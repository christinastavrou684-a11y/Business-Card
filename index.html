<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Card Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
    <style>
        body { font-family: Arial; background: linear-gradient(135deg, #ff9a9e, #fad0c4); display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); padding: 20px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); width: 350px; text-align: center; color: white; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: none; border-radius: 10px; box-sizing: border-box; }
        button { padding: 12px 20px; border: none; border-radius: 20px; background: #ff6b6b; color: white; cursor: pointer; font-weight: bold; transition: 0.3s; margin: 5px; width: 45%; }
        button:hover { transform: scale(1.05); }
        #preview { background: white; color: black; padding: 20px; border-radius: 10px; margin-top: 20px; display: none; width: 300px; margin: 20px auto; }
        #qr-canvas { margin: 10px auto; display: flex; justify-content: center; }
        .qr-btn { background: #2ecc71 !important; width: 93% !important; }
        .reset-btn { background: #f39c12 !important; width: 93% !important; }
    </style>
</head>
<body>

<div class="container">
    <h2>Business Card Generator</h2>
    <input type="text" id="name" placeholder="ÎŒÎ½Î¿Î¼Î±">
    <input type="text" id="phone" placeholder="Î¤Î·Î»Î­Ï†Ï‰Î½Î¿">
    <input type="email" id="email" placeholder="Email">
    <input type="text" id="company" placeholder="Î•Ï„Î±Î¹ÏÎµÎ¯Î±">
    <input type="text" id="job" placeholder="Î˜Î­ÏƒÎ·">

    <button onclick="updatePreview()">Preview</button>
    <button onclick="downloadVCard()">vCard Download</button>
    <button onclick="generateVCardURL()" class="qr-btn">Generate URL for NFC</button>
    <button onclick="downloadQR()" class="qr-btn">QR Download</button>
    <button onclick="resetForm()" class="reset-btn">Reset</button>

    <div id="vcard-url-box" style="display:none; margin-top:15px; background: white; color: black; padding: 10px; border-radius: 10px;">
        <p><b>Î¤Î¿ Public URL Î³Î¹Î± Ï„Î¿ NFC:</b></p>
        <input type="text" id="vcard-url" readonly style="background: #eee; border: 1px solid #ccc;">
        <button onclick="copyURL()" style="width: 100%;">Copy Link</button>
    </div>

    <div id="preview">
        <h3 id="name-preview"></h3>
        <p id="phone-preview"></p>
        <p id="email-preview"></p>
        <div id="qr-canvas"></div>
    </div>
</div>

<script>
function generateVCard() {
    const name = document.getElementById('name').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const email = document.getElementById('email').value.trim();
    const company = document.getElementById('company').value.trim();
    const job = document.getElementById('job').value.trim();

    if (!name || !phone) {
        alert("Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ ÎŒÎ½Î¿Î¼Î± ÎºÎ±Î¹ Î¤Î·Î»Î­Ï†Ï‰Î½Î¿");
        return null;
    }

    return `BEGIN:VCARD\nVERSION:3.0\nFN:${name}\nN:;${name};;;\nTEL:${phone}\nEMAIL:${email}\nORG:${company}\nTITLE:${job}\nEND:VCARD`;
}

function updatePreview() {
    const vcard = generateVCard();
    if (!vcard) return;

    document.getElementById('name-preview').textContent = document.getElementById('name').value;
    document.getElementById('phone-preview').textContent = 'ğŸ“ ' + document.getElementById('phone').value;
    document.getElementById('email-preview').textContent = 'âœ‰ï¸ ' + document.getElementById('email').value;
    
    document.getElementById('preview').style.display = 'block';
    
    const qrContainer = document.getElementById("qr-canvas");
    qrContainer.innerHTML = ""; 
    new QRCode(qrContainer, { text: vcard, width: 128, height: 128 });
}

function downloadVCard() {
    const vcard = generateVCard();
    if (!vcard) return;
    const blob = new Blob([vcard], { type: "text/vcard;charset=utf-8" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = document.getElementById('name').value.trim().replace(/\s+/g, "_") + ".vcf";
    a.click();
}

function generateVCardURL() {
    const name = document.getElementById('name').value.trim();
    if (!name) {
        alert("Î£Ï…Î¼Ï€Î»Î®ÏÏ‰ÏƒÎµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î±!");
        return;
    }
    const fileName = name.replace(/\s+/g, "_") + ".vcf";
    // Î¤ÎŸ Î”Î™ÎšÎŸ Î£ÎŸÎ¥ REPOSITORY LINK
    const baseURL = "https://christinastavrou684-a11y.github.io/Business-Card/cards/"; 
    const publicURL = baseURL + fileName;

    document.getElementById("vcard-url").value = publicURL;
    document.getElementById("vcard-url-box").style.display = "block";
}

function copyURL() {
    const copyText = document.getElementById("vcard-url");
    copyText.select();
    navigator.clipboard.writeText(copyText.value);
    alert("Î¤Î¿ link Î±Î½Ï„Î¹Î³ÏÎ¬Ï†Î·ÎºÎµ!");
}

function downloadQR() {
    const canvas = document.querySelector("#qr-canvas canvas");
    if (!canvas) { alert("Î Î¬Ï„Î± Ï€ÏÏÏ„Î± Ï„Î¿ Preview!"); return; }
    const a = document.createElement("a");
    a.href = canvas.toDataURL("image/png");
    a.download = "QR_Code.png";
    a.click();
}

function resetForm() {
    location.reload();
}
</script>
</body>

</html>

